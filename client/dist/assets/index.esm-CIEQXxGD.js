import{c as It}from"./createLucideIcon-BQQlbH-3.js";import{R as h}from"./index-DzXEojus.js";const Nt=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],or=It("code",Nt);var he=t=>t.type==="checkbox",le=t=>t instanceof Date,G=t=>t==null;const gt=t=>typeof t=="object";var I=t=>!G(t)&&!Array.isArray(t)&&gt(t)&&!le(t),mt=t=>I(t)&&t.target?he(t.target)?t.target.checked:t.target.value:t,Bt=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,ht=(t,i)=>t.has(Bt(i)),Pt=t=>{const i=t.constructor&&t.constructor.prototype;return I(i)&&i.hasOwnProperty("isPrototypeOf")},$e=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function M(t){if(t instanceof Date)return new Date(t);const i=typeof FileList<"u"&&t instanceof FileList;if($e&&(t instanceof Blob||i))return t;const e=Array.isArray(t);if(!e&&!(I(t)&&Pt(t)))return t;const r=e?[]:Object.create(Object.getPrototypeOf(t));for(const u in t)Object.prototype.hasOwnProperty.call(t,u)&&(r[u]=M(t[u]));return r}var Ae=t=>/^\w*$/.test(t),R=t=>t===void 0,xe=t=>Array.isArray(t)?t.filter(Boolean):[],Ke=t=>xe(t.replace(/["|']|\]/g,"").split(/\.|\[/)),g=(t,i,e)=>{if(!i||!I(t))return e;const r=(Ae(i)?[i]:Ke(i)).reduce((u,n)=>G(u)?u:u[n],t);return R(r)||r===t?R(t[i])?e:t[i]:r},X=t=>typeof t=="boolean",z=t=>typeof t=="function",O=(t,i,e)=>{let r=-1;const u=Ae(i)?[i]:Ke(i),n=u.length,o=n-1;for(;++r<n;){const d=u[r];let p=e;if(r!==o){const x=t[d];p=I(x)||Array.isArray(x)?x:isNaN(+u[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=p,t=t[d]}};const ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},te={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ie={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},bt=h.createContext(null);bt.displayName="HookFormControlContext";const pe=()=>h.useContext(bt);var vt=(t,i,e,r=!0)=>{const u={defaultValues:i._defaultValues};for(const n in t)Object.defineProperty(u,n,{get:()=>{const o=n;return i._proxyFormState[o]!==te.all&&(i._proxyFormState[o]=!r||te.all),e&&(e[o]=!0),t[o]}});return u};const ke=typeof window<"u"?h.useLayoutEffect:h.useEffect;function Wt(t){const i=pe(),{control:e=i,disabled:r,name:u,exact:n}=t||{},[o,d]=h.useState(e._formState),p=h.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ke(()=>e._subscribe({name:u,formState:p.current,exact:n,callback:x=>{!r&&d({...e._formState,...x})}}),[u,r,n]),h.useEffect(()=>{p.current.isValid&&e._setValid(!0)},[e]),h.useMemo(()=>vt(o,e,p.current,!1),[o,e])}var Z=t=>typeof t=="string",Pe=(t,i,e,r,u)=>Z(t)?(r&&i.watch.add(t),g(e,t,u)):Array.isArray(t)?t.map(n=>(r&&i.watch.add(n),g(e,n))):(r&&(i.watchAll=!0),e),We=t=>G(t)||!gt(t);function se(t,i,e=new WeakSet){if(We(t)||We(i))return Object.is(t,i);if(le(t)&&le(i))return Object.is(t.getTime(),i.getTime());const r=Object.keys(t),u=Object.keys(i);if(r.length!==u.length)return!1;if(e.has(t)||e.has(i))return!0;e.add(t),e.add(i);for(const n of r){const o=t[n];if(!u.includes(n))return!1;if(n!=="ref"){const d=i[n];if(le(o)&&le(d)||I(o)&&I(d)||Array.isArray(o)&&Array.isArray(d)?!se(o,d,e):!Object.is(o,d))return!1}}return!0}function qt(t){const i=pe(),{control:e=i,name:r,defaultValue:u,disabled:n,exact:o,compute:d}=t||{},p=h.useRef(u),x=h.useRef(d),q=h.useRef(void 0),b=h.useRef(e),w=h.useRef(r);x.current=d;const[F,P]=h.useState(()=>{const f=e._getWatch(r,p.current);return x.current?x.current(f):f}),U=h.useCallback(f=>{const y=Pe(r,e._names,f||e._formValues,!1,p.current);return x.current?x.current(y):y},[e._formValues,e._names,r]),N=h.useCallback(f=>{if(!n){const y=Pe(r,e._names,f||e._formValues,!1,p.current);if(x.current){const V=x.current(y);se(V,q.current)||(P(V),q.current=V)}else P(y)}},[e._formValues,e._names,n,r]);ke(()=>((b.current!==e||!se(w.current,r))&&(b.current=e,w.current=r,N()),e._subscribe({name:r,formState:{values:!0},exact:o,callback:f=>{N(f.values)}})),[e,o,r,N]),h.useEffect(()=>e._removeUnmounted());const T=b.current!==e,A=w.current,W=h.useMemo(()=>{if(n)return null;const f=!T&&!se(A,r);return T||f?U():null},[n,T,r,A,U]);return W!==null?W:F}function Ht(t){const i=pe(),{name:e,disabled:r,control:u=i,shouldUnregister:n,defaultValue:o,exact:d=!0}=t,p=ht(u._names.array,e),x=h.useMemo(()=>g(u._formValues,e,g(u._defaultValues,e,o)),[u,e,o]),q=qt({control:u,name:e,defaultValue:x,exact:d}),b=Wt({control:u,name:e,exact:d}),w=h.useRef(t),F=h.useRef(void 0),P=h.useRef(u.register(e,{...t.rules,value:q,...X(t.disabled)?{disabled:t.disabled}:{}}));w.current=t;const U=h.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!g(b.errors,e)},isDirty:{enumerable:!0,get:()=>!!g(b.dirtyFields,e)},isTouched:{enumerable:!0,get:()=>!!g(b.touchedFields,e)},isValidating:{enumerable:!0,get:()=>!!g(b.validatingFields,e)},error:{enumerable:!0,get:()=>g(b.errors,e)}}),[b,e]),N=h.useCallback(f=>P.current.onChange({target:{value:mt(f),name:e},type:ve.CHANGE}),[e]),T=h.useCallback(()=>P.current.onBlur({target:{value:g(u._formValues,e),name:e},type:ve.BLUR}),[e,u._formValues]),A=h.useCallback(f=>{const y=g(u._fields,e);y&&y._f&&f&&(y._f.ref={focus:()=>z(f.focus)&&f.focus(),select:()=>z(f.select)&&f.select(),setCustomValidity:V=>z(f.setCustomValidity)&&f.setCustomValidity(V),reportValidity:()=>z(f.reportValidity)&&f.reportValidity()})},[u._fields,e]),W=h.useMemo(()=>({name:e,value:q,...X(r)||b.disabled?{disabled:b.disabled||r}:{},onChange:N,onBlur:T,ref:A}),[e,r,b.disabled,N,T,A,q]);return h.useEffect(()=>{const f=u._options.shouldUnregister||n,y=F.current;y&&y!==e&&!p&&u.unregister(y),u.register(e,{...w.current.rules,...X(w.current.disabled)?{disabled:w.current.disabled}:{}});const V=(S,$)=>{const J=g(u._fields,S);J&&J._f&&(J._f.mount=$)};if(V(e,!0),f){const S=M(g(u._options.defaultValues,e,w.current.defaultValue));O(u._defaultValues,e,S),R(g(u._formValues,e))&&O(u._formValues,e,S)}return!p&&u.register(e),F.current=e,()=>{(p?f&&!u._state.action:f)?u.unregister(e):V(e,!1)}},[e,u,p,n]),h.useEffect(()=>{u._setDisabledField({disabled:r,name:e})},[r,e,u]),h.useMemo(()=>({field:W,formState:b,fieldState:U}),[W,b,U])}const cr=t=>t.render(Ht(t)),jt=h.createContext(null);jt.displayName="HookFormContext";var $t=(t,i,e,r,u)=>i?{...e[t],types:{...e[t]&&e[t].types?e[t].types:{},[r]:u||!0}}:{},Y=t=>Array.isArray(t)?t:[t],nt=()=>{let t=[];return{get observers(){return t},next:u=>{for(const n of t)n.next&&n.next(u)},subscribe:u=>(t.push(u),{unsubscribe:()=>{t=t.filter(n=>n!==u)}}),unsubscribe:()=>{t=[]}}};function Vt(t,i){const e={};for(const r in t)if(t.hasOwnProperty(r)){const u=t[r],n=i[r];if(u&&I(u)&&n){const o=Vt(u,n);I(o)&&(e[r]=o)}else t[r]&&(e[r]=n)}return e}var j=t=>I(t)&&!Object.keys(t).length,ze=t=>t.type==="file",Ve=t=>{if(!$e)return!1;const i=t?t.ownerDocument:0;return t instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},Ft=t=>t.type==="select-multiple",Ge=t=>t.type==="radio",Kt=t=>Ge(t)||he(t),Oe=t=>Ve(t)&&t.isConnected;function zt(t,i){const e=i.slice(0,-1).length;let r=0;for(;r<e;)t=R(t)?r++:t[i[r++]];return t}function Gt(t){for(const i in t)if(t.hasOwnProperty(i)&&!R(t[i]))return!1;return!0}function L(t,i){const e=Array.isArray(i)?i:Ae(i)?[i]:Ke(i),r=e.length===1?t:zt(t,e),u=e.length-1,n=e[u];return r&&delete r[n],u!==0&&(I(r)&&j(r)||Array.isArray(r)&&Gt(r))&&L(t,e.slice(0,-1)),t}var Yt=t=>{for(const i in t)if(z(t[i]))return!0;return!1};function At(t){return Array.isArray(t)||I(t)&&!Yt(t)}function qe(t,i={}){for(const e in t){const r=t[e];At(r)?(i[e]=Array.isArray(r)?[]:{},qe(r,i[e])):R(r)||(i[e]=!0)}return i}function ce(t,i,e){e||(e=qe(i));for(const r in t){const u=t[r];if(At(u))R(i)||We(e[r])?e[r]=qe(u,Array.isArray(u)?[]:{}):ce(u,G(i)?{}:i[r],e[r]);else{const n=i[r];e[r]=!se(u,n)}}return e}const ut={value:!1,isValid:!1},lt={value:!0,isValid:!0};var xt=t=>{if(Array.isArray(t)){if(t.length>1){const i=t.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:i,isValid:!!i.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!R(t[0].attributes.value)?R(t[0].value)||t[0].value===""?lt:{value:t[0].value,isValid:!0}:lt:ut}return ut},pt=(t,{valueAsNumber:i,valueAsDate:e,setValueAs:r})=>R(t)?t:i?t===""?NaN:t&&+t:e&&Z(t)?new Date(t):r?r(t):t;const ot={isValid:!1,value:null};var kt=t=>Array.isArray(t)?t.reduce((i,e)=>e&&e.checked&&!e.disabled?{isValid:!0,value:e.value}:i,ot):ot;function ct(t){const i=t.ref;return ze(i)?i.files:Ge(i)?kt(t.refs).value:Ft(i)?[...i.selectedOptions].map(({value:e})=>e):he(i)?xt(t.refs).value:pt(R(i.value)?t.ref.value:i.value,t)}var Jt=(t,i,e,r)=>{const u={};for(const n of t){const o=g(i,n);o&&O(u,n,o._f)}return{criteriaMode:e,names:[...t],fields:u,shouldUseNativeValidation:r}},Fe=t=>t instanceof RegExp,me=t=>R(t)?t:Fe(t)?t.source:I(t)?Fe(t.value)?t.value.source:t.value:t,de=t=>({isOnSubmit:!t||t===te.onSubmit,isOnBlur:t===te.onBlur,isOnChange:t===te.onChange,isOnAll:t===te.all,isOnTouch:t===te.onTouched});const dt="AsyncFunction";var Qt=t=>!!t&&!!t.validate&&!!(z(t.validate)&&t.validate.constructor.name===dt||I(t.validate)&&Object.values(t.validate).find(i=>i.constructor.name===dt)),Xt=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),He=(t,i,e)=>!e&&(i.watchAll||i.watch.has(t)||[...i.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const fe=(t,i,e,r)=>{for(const u of e||Object.keys(t)){const n=g(t,u);if(n){const{_f:o,...d}=n;if(o){if(o.refs&&o.refs[0]&&i(o.refs[0],u)&&!r)return!0;if(o.ref&&i(o.ref,o.name)&&!r)return!0;if(fe(d,i))break}else if(I(d)&&fe(d,i))break}}};function ft(t,i,e){const r=g(t,e);if(r||Ae(e))return{error:r,name:e};const u=e.split(".");for(;u.length;){const n=u.join("."),o=g(i,n),d=g(t,n);if(o&&!Array.isArray(o)&&e!==n)return{name:e};if(d&&d.type)return{name:n,error:d};if(d&&d.root&&d.root.type)return{name:`${n}.root`,error:d.root};u.pop()}return{name:e}}var Zt=(t,i,e,r)=>{e(t);const{name:u,...n}=t;return j(n)||Object.keys(n).length>=Object.keys(i).length||Object.keys(n).find(o=>i[o]===(!r||te.all))},er=(t,i,e)=>!t||!i||t===i||Y(t).some(r=>r&&(e?r===i:r.startsWith(i)||i.startsWith(r))),tr=(t,i,e,r,u)=>u.isOnAll?!1:!e&&u.isOnTouch?!(i||t):(e?r.isOnBlur:u.isOnBlur)?!t:(e?r.isOnChange:u.isOnChange)?t:!0,rr=(t,i)=>!xe(g(t,i)).length&&L(t,i),wt=(t,i,e)=>{const r=Y(g(t,e));return O(r,"root",i[e]),O(t,e,r),t};function yt(t,i,e="validate"){if(Z(t)||Array.isArray(t)&&t.every(Z)||X(t)&&!t)return{type:e,message:Z(t)?t:"",ref:i}}var oe=t=>I(t)&&!Fe(t)?t:{value:t,message:""},je=async(t,i,e,r,u,n)=>{const{ref:o,refs:d,required:p,maxLength:x,minLength:q,min:b,max:w,pattern:F,validate:P,name:U,valueAsNumber:N,mount:T}=t._f,A=g(e,U);if(!T||i.has(U))return{};const W=d?d[0]:o,f=k=>{u&&W.reportValidity&&(W.setCustomValidity(X(k)?"":k||""),W.reportValidity())},y={},V=Ge(o),S=he(o),$=V||S,J=(N||ze(o))&&R(o.value)&&R(A)||Ve(o)&&o.value===""||A===""||Array.isArray(A)&&!A.length,ee=$t.bind(null,U,r,y),be=(k,D,B,H=ie.maxLength,re=ie.minLength)=>{const Q=k?D:B;y[U]={type:k?H:re,message:Q,ref:o,...ee(k?H:re,Q)}};if(n?!Array.isArray(A)||!A.length:p&&(!$&&(J||G(A))||X(A)&&!A||S&&!xt(d).isValid||V&&!kt(d).isValid)){const{value:k,message:D}=Z(p)?{value:!!p,message:p}:oe(p);if(k&&(y[U]={type:ie.required,message:D,ref:W,...ee(ie.required,D)},!r))return f(D),y}if(!J&&(!G(b)||!G(w))){let k,D;const B=oe(w),H=oe(b);if(!G(A)&&!isNaN(A)){const re=o.valueAsNumber||A&&+A;G(B.value)||(k=re>B.value),G(H.value)||(D=re<H.value)}else{const re=o.valueAsDate||new Date(A),Q=ge=>new Date(new Date().toDateString()+" "+ge),ye=o.type=="time",_e=o.type=="week";Z(B.value)&&A&&(k=ye?Q(A)>Q(B.value):_e?A>B.value:re>new Date(B.value)),Z(H.value)&&A&&(D=ye?Q(A)<Q(H.value):_e?A<H.value:re<new Date(H.value))}if((k||D)&&(be(!!k,B.message,H.message,ie.max,ie.min),!r))return f(y[U].message),y}if((x||q)&&!J&&(Z(A)||n&&Array.isArray(A))){const k=oe(x),D=oe(q),B=!G(k.value)&&A.length>+k.value,H=!G(D.value)&&A.length<+D.value;if((B||H)&&(be(B,k.message,D.message),!r))return f(y[U].message),y}if(F&&!J&&Z(A)){const{value:k,message:D}=oe(F);if(Fe(k)&&!A.match(k)&&(y[U]={type:ie.pattern,message:D,ref:o,...ee(ie.pattern,D)},!r))return f(D),y}if(P){if(z(P)){const k=await P(A,e),D=yt(k,W);if(D&&(y[U]={...D,...ee(ie.validate,D.message)},!r))return f(D.message),y}else if(I(P)){let k={};for(const D in P){if(!j(k)&&!r)break;const B=yt(await P[D](A,e),W,D);B&&(k={...B,...ee(D,B.message)},f(B.message),r&&(y[U]=k))}if(!j(k)&&(y[U]={ref:W,...k},!r))return y}}return f(!0),y};const sr={mode:te.onSubmit,reValidateMode:te.onChange,shouldFocusError:!0};function ir(t={}){let i={...sr,...t},e={submitCount:0,isDirty:!1,isReady:!1,isLoading:z(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1},r={},u=I(i.defaultValues)||I(i.values)?M(i.defaultValues||i.values)||{}:{},n=i.shouldUnregister?{}:M(u),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,x=0;const q={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},b={...q};let w={...b};const F={array:nt(),state:nt()},P=i.criteriaMode===te.all,U=s=>a=>{clearTimeout(x),x=setTimeout(s,a)},N=async s=>{if(!o.keepIsValid&&!i.disabled&&(b.isValid||w.isValid||s)){let a;i.resolver?(a=j((await $()).errors),T()):a=await ee(r,!0),a!==e.isValid&&F.state.next({isValid:a})}},T=(s,a)=>{!i.disabled&&(b.isValidating||b.validatingFields||w.isValidating||w.validatingFields)&&((s||Array.from(d.mount)).forEach(l=>{l&&(a?O(e.validatingFields,l,a):L(e.validatingFields,l))}),F.state.next({validatingFields:e.validatingFields,isValidating:!j(e.validatingFields)}))},A=(s,a=[],l,m,_=!0,c=!0)=>{if(m&&l&&!i.disabled){if(o.action=!0,c&&Array.isArray(g(r,s))){const v=l(g(r,s),m.argA,m.argB);_&&O(r,s,v)}if(c&&Array.isArray(g(e.errors,s))){const v=l(g(e.errors,s),m.argA,m.argB);_&&O(e.errors,s,v),rr(e.errors,s)}if((b.touchedFields||w.touchedFields)&&c&&Array.isArray(g(e.touchedFields,s))){const v=l(g(e.touchedFields,s),m.argA,m.argB);_&&O(e.touchedFields,s,v)}(b.dirtyFields||w.dirtyFields)&&(e.dirtyFields=ce(u,n)),F.state.next({name:s,isDirty:k(s,a),dirtyFields:e.dirtyFields,errors:e.errors,isValid:e.isValid})}else O(n,s,a)},W=(s,a)=>{O(e.errors,s,a),F.state.next({errors:e.errors})},f=s=>{e.errors=s,F.state.next({errors:e.errors,isValid:!1})},y=(s,a,l,m)=>{const _=g(r,s);if(_){const c=g(n,s,R(l)?g(u,s):l);R(c)||m&&m.defaultChecked||a?O(n,s,a?c:ct(_._f)):H(s,c),o.mount&&!o.action&&N()}},V=(s,a,l,m,_)=>{let c=!1,v=!1;const C={name:s};if(!i.disabled){if(!l||m){(b.isDirty||w.isDirty)&&(v=e.isDirty,e.isDirty=C.isDirty=k(),c=v!==C.isDirty);const E=se(g(u,s),a);v=!!g(e.dirtyFields,s),E?L(e.dirtyFields,s):O(e.dirtyFields,s,!0),C.dirtyFields=e.dirtyFields,c=c||(b.dirtyFields||w.dirtyFields)&&v!==!E}if(l){const E=g(e.touchedFields,s);E||(O(e.touchedFields,s,l),C.touchedFields=e.touchedFields,c=c||(b.touchedFields||w.touchedFields)&&E!==l)}c&&_&&F.state.next(C)}return c?C:{}},S=(s,a,l,m)=>{const _=g(e.errors,s),c=(b.isValid||w.isValid)&&X(a)&&e.isValid!==a;if(i.delayError&&l?(p=U(()=>W(s,l)),p(i.delayError)):(clearTimeout(x),p=null,l?O(e.errors,s,l):L(e.errors,s)),(l?!se(_,l):_)||!j(m)||c){const v={...m,...c&&X(a)?{isValid:a}:{},errors:e.errors,name:s};e={...e,...v},F.state.next(v)}},$=async s=>(T(s,!0),await i.resolver(n,i.context,Jt(s||d.mount,r,i.criteriaMode,i.shouldUseNativeValidation))),J=async s=>{const{errors:a}=await $(s);if(T(s),s)for(const l of s){const m=g(a,l);m?O(e.errors,l,m):L(e.errors,l)}else e.errors=a;return a},ee=async(s,a,l={valid:!0})=>{for(const m in s){const _=s[m];if(_){const{_f:c,...v}=_;if(c){const C=d.array.has(c.name),E=_._f&&Qt(_._f);E&&b.validatingFields&&T([c.name],!0);const K=await je(_,d.disabled,n,P,i.shouldUseNativeValidation&&!a,C);if(E&&b.validatingFields&&T([c.name]),K[c.name]&&(l.valid=!1,a||t.shouldUseNativeValidation))break;!a&&(g(K,c.name)?C?wt(e.errors,K,c.name):O(e.errors,c.name,K[c.name]):L(e.errors,c.name))}!j(v)&&await ee(v,a,l)}}return l.valid},be=()=>{for(const s of d.unMount){const a=g(r,s);a&&(a._f.refs?a._f.refs.every(l=>!Oe(l)):!Oe(a._f.ref))&&we(s)}d.unMount=new Set},k=(s,a)=>!i.disabled&&(s&&a&&O(n,s,a),!se(Ye(),u)),D=(s,a,l)=>Pe(s,d,{...o.mount?n:R(a)?u:Z(s)?{[s]:a}:a},l,a),B=s=>xe(g(o.mount?n:u,s,i.shouldUnregister?g(u,s,[]):[])),H=(s,a,l={})=>{const m=g(r,s);let _=a;if(m){const c=m._f;c&&(!c.disabled&&O(n,s,pt(a,c)),_=Ve(c.ref)&&G(a)?"":a,Ft(c.ref)?[...c.ref.options].forEach(v=>v.selected=_.includes(v.value)):c.refs?he(c.ref)?c.refs.forEach(v=>{(!v.defaultChecked||!v.disabled)&&(Array.isArray(_)?v.checked=!!_.find(C=>C===v.value):v.checked=_===v.value||!!_)}):c.refs.forEach(v=>v.checked=v.value===_):ze(c.ref)?c.ref.value="":(c.ref.value=_,c.ref.type||F.state.next({name:s,values:M(n)})))}(l.shouldDirty||l.shouldTouch)&&V(s,_,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&ge(s)},re=(s,a,l)=>{for(const m in a){if(!a.hasOwnProperty(m))return;const _=a[m],c=s+"."+m,v=g(r,c);(d.array.has(s)||I(_)||v&&!v._f)&&!le(_)?re(c,_,l):H(c,_,l)}},Q=(s,a,l={})=>{const m=g(r,s),_=d.array.has(s),c=M(a);O(n,s,c),_?(F.array.next({name:s,values:M(n)}),(b.isDirty||b.dirtyFields||w.isDirty||w.dirtyFields)&&l.shouldDirty&&F.state.next({name:s,dirtyFields:ce(u,n),isDirty:k(s,c)})):m&&!m._f&&!G(c)?re(s,c,l):H(s,c,l),He(s,d)?F.state.next({...e,name:s,values:M(n)}):F.state.next({name:o.mount?s:void 0,values:M(n)})},ye=async s=>{o.mount=!0;const a=s.target;let l=a.name,m=!0;const _=g(r,l),c=E=>{m=Number.isNaN(E)||le(E)&&isNaN(E.getTime())||se(E,g(n,l,E))},v=de(i.mode),C=de(i.reValidateMode);if(_){let E,K;const ue=a.type?ct(_._f):mt(s),ae=s.type===ve.BLUR||s.type===ve.FOCUS_OUT,Ut=!Xt(_._f)&&!i.resolver&&!g(e.errors,l)&&!_._f.deps||tr(ae,g(e.touchedFields,l),e.isSubmitted,C,v),Ce=He(l,d,ae);O(n,l,ue),ae?(!a||!a.readOnly)&&(_._f.onBlur&&_._f.onBlur(s),p&&p(0)):_._f.onChange&&_._f.onChange(s);const Ee=V(l,ue,ae),Tt=!j(Ee)||Ce;if(!ae&&F.state.next({name:l,type:s.type,values:M(n)}),Ut)return(b.isValid||w.isValid)&&(i.mode==="onBlur"?ae&&N():ae||N()),Tt&&F.state.next({name:l,...Ce?{}:Ee});if(!ae&&Ce&&F.state.next({...e}),i.resolver){const{errors:it}=await $([l]);if(T([l]),c(ue),m){const Lt=ft(e.errors,r,l),at=ft(it,r,Lt.name||l);E=at.error,l=at.name,K=j(it)}}else T([l],!0),E=(await je(_,d.disabled,n,P,i.shouldUseNativeValidation))[l],T([l]),c(ue),m&&(E?K=!1:(b.isValid||w.isValid)&&(K=await ee(r,!0)));m&&(_._f.deps&&(!Array.isArray(_._f.deps)||_._f.deps.length>0)&&ge(_._f.deps),S(l,K,E,Ee))}},_e=(s,a)=>{if(g(e.errors,a)&&s.focus)return s.focus(),1},ge=async(s,a={})=>{let l,m;const _=Y(s);if(i.resolver){const c=await J(R(s)?s:_);l=j(c),m=s?!_.some(v=>g(c,v)):l}else s?(m=(await Promise.all(_.map(async c=>{const v=g(r,c);return await ee(v&&v._f?{[c]:v}:v)}))).every(Boolean),!(!m&&!e.isValid)&&N()):m=l=await ee(r);return F.state.next({...!Z(s)||(b.isValid||w.isValid)&&l!==e.isValid?{}:{name:s},...i.resolver||!s?{isValid:l}:{},errors:e.errors}),a.shouldFocus&&!m&&fe(r,_e,s?_:d.mount),m},Ye=(s,a)=>{let l={...o.mount?n:u};return a&&(l=Vt(a.dirtyFields?e.dirtyFields:e.touchedFields,l)),R(s)?l:Z(s)?g(l,s):s.map(m=>g(l,m))},Je=(s,a)=>({invalid:!!g((a||e).errors,s),isDirty:!!g((a||e).dirtyFields,s),error:g((a||e).errors,s),isValidating:!!g(e.validatingFields,s),isTouched:!!g((a||e).touchedFields,s)}),St=s=>{s&&Y(s).forEach(a=>L(e.errors,a)),F.state.next({errors:s?e.errors:{}})},Qe=(s,a,l)=>{const m=(g(r,s,{_f:{}})._f||{}).ref,_=g(e.errors,s)||{},{ref:c,message:v,type:C,...E}=_;O(e.errors,s,{...E,...a,ref:m}),F.state.next({name:s,errors:e.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},Dt=(s,a)=>z(s)?F.state.subscribe({next:l=>"values"in l&&s(D(void 0,a),l)}):D(s,a,!0),Xe=s=>F.state.subscribe({next:a=>{er(s.name,a.name,s.exact)&&Zt(a,s.formState||b,Mt,s.reRenderRoot)&&s.callback({values:{...n},...e,...a,defaultValues:u})}}).unsubscribe,Ct=s=>(o.mount=!0,w={...w,...s.formState},Xe({...s,formState:{...q,...s.formState}})),we=(s,a={})=>{for(const l of s?Y(s):d.mount)d.mount.delete(l),d.array.delete(l),a.keepValue||(L(r,l),L(n,l)),!a.keepError&&L(e.errors,l),!a.keepDirty&&L(e.dirtyFields,l),!a.keepTouched&&L(e.touchedFields,l),!a.keepIsValidating&&L(e.validatingFields,l),!i.shouldUnregister&&!a.keepDefaultValue&&L(u,l);F.state.next({values:M(n)}),F.state.next({...e,...a.keepDirty?{isDirty:k()}:{}}),!a.keepIsValid&&N()},Ze=({disabled:s,name:a})=>{if(X(s)&&o.mount||s||d.disabled.has(a)){const _=d.disabled.has(a)!==!!s;s?d.disabled.add(a):d.disabled.delete(a),_&&o.mount&&!o.action&&N()}},Se=(s,a={})=>{let l=g(r,s);const m=X(a.disabled)||X(i.disabled);return O(r,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...a}}),d.mount.add(s),l?Ze({disabled:X(a.disabled)?a.disabled:i.disabled,name:s}):y(s,!0,a.value),{...m?{disabled:a.disabled||i.disabled}:{},...i.progressive?{required:!!a.required,min:me(a.min),max:me(a.max),minLength:me(a.minLength),maxLength:me(a.maxLength),pattern:me(a.pattern)}:{},name:s,onChange:ye,onBlur:ye,ref:_=>{if(_){Se(s,a),l=g(r,s);const c=R(_.value)&&_.querySelectorAll&&_.querySelectorAll("input,select,textarea")[0]||_,v=Kt(c),C=l._f.refs||[];if(v?C.find(E=>E===c):c===l._f.ref)return;O(r,s,{_f:{...l._f,...v?{refs:[...C.filter(Oe),c,...Array.isArray(g(u,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),y(s,!1,void 0,c)}else l=g(r,s,{}),l._f&&(l._f.mount=!1),(i.shouldUnregister||a.shouldUnregister)&&!(ht(d.array,s)&&o.action)&&d.unMount.add(s)}}},De=()=>i.shouldFocusError&&fe(r,_e,d.mount),Et=s=>{X(s)&&(F.state.next({disabled:s}),fe(r,(a,l)=>{const m=g(r,l);m&&(a.disabled=m._f.disabled||s,Array.isArray(m._f.refs)&&m._f.refs.forEach(_=>{_.disabled=m._f.disabled||s}))},0,!1))},et=(s,a)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let _=M(n);if(F.state.next({isSubmitting:!0}),i.resolver){const{errors:c,values:v}=await $();T(),e.errors=c,_=M(v)}else await ee(r);if(d.disabled.size)for(const c of d.disabled)L(_,c);if(L(e.errors,"root"),j(e.errors)){F.state.next({errors:{}});try{await s(_,l)}catch(c){m=c}}else a&&await a({...e.errors},l),De(),setTimeout(De);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:j(e.errors)&&!m,submitCount:e.submitCount+1,errors:e.errors}),m)throw m},Ot=(s,a={})=>{g(r,s)&&(R(a.defaultValue)?Q(s,M(g(u,s))):(Q(s,a.defaultValue),O(u,s,M(a.defaultValue))),a.keepTouched||L(e.touchedFields,s),a.keepDirty||(L(e.dirtyFields,s),e.isDirty=a.defaultValue?k(s,M(g(u,s))):k()),a.keepError||(L(e.errors,s),b.isValid&&N()),F.state.next({...e}))},tt=(s,a={})=>{const l=s?M(s):u,m=M(l),_=j(s),c=_?u:m;if(a.keepDefaultValues||(u=l),!a.keepValues){if(a.keepDirtyValues){const v=new Set([...d.mount,...Object.keys(ce(u,n))]);for(const C of Array.from(v)){const E=g(e.dirtyFields,C),K=g(n,C),ue=g(c,C);E&&!R(K)?O(c,C,K):!E&&!R(ue)&&Q(C,ue)}}else{if($e&&R(s))for(const v of d.mount){const C=g(r,v);if(C&&C._f){const E=Array.isArray(C._f.refs)?C._f.refs[0]:C._f.ref;if(Ve(E)){const K=E.closest("form");if(K){K.reset();break}}}}if(a.keepFieldsRef)for(const v of d.mount)Q(v,g(c,v));else r={}}n=i.shouldUnregister?a.keepDefaultValues?M(u):{}:M(c),F.array.next({values:{...c}}),F.state.next({values:{...c}})}d={mount:a.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!b.isValid||!!a.keepIsValid||!!a.keepDirtyValues||!i.shouldUnregister&&!j(c),o.watch=!!i.shouldUnregister,o.keepIsValid=!!a.keepIsValid,o.action=!1,a.keepErrors||(e.errors={}),F.state.next({submitCount:a.keepSubmitCount?e.submitCount:0,isDirty:_?!1:a.keepDirty?e.isDirty:!!(a.keepDefaultValues&&!se(s,u)),isSubmitted:a.keepIsSubmitted?e.isSubmitted:!1,dirtyFields:_?{}:a.keepDirtyValues?a.keepDefaultValues&&n?ce(u,n):e.dirtyFields:a.keepDefaultValues&&s?ce(u,s):a.keepDirty?e.dirtyFields:{},touchedFields:a.keepTouched?e.touchedFields:{},errors:a.keepErrors?e.errors:{},isSubmitSuccessful:a.keepIsSubmitSuccessful?e.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:u})},rt=(s,a)=>tt(z(s)?s(n):s,{...i.resetOptions,...a}),Rt=(s,a={})=>{const l=g(r,s),m=l&&l._f;if(m){const _=m.refs?m.refs[0]:m.ref;_.focus&&setTimeout(()=>{_.focus(),a.shouldSelect&&z(_.select)&&_.select()})}},Mt=s=>{e={...e,...s}},st={control:{register:Se,unregister:we,getFieldState:Je,handleSubmit:et,setError:Qe,_subscribe:Xe,_runSchema:$,_updateIsValidating:T,_focusError:De,_getWatch:D,_getDirty:k,_setValid:N,_setFieldArray:A,_setDisabledField:Ze,_setErrors:f,_getFieldArray:B,_reset:tt,_resetDefaultValues:()=>z(i.defaultValues)&&i.defaultValues().then(s=>{rt(s,i.resetOptions),F.state.next({isLoading:!1})}),_removeUnmounted:be,_disableForm:Et,_subjects:F,_proxyFormState:b,get _fields(){return r},get _formValues(){return n},get _state(){return o},set _state(s){o=s},get _defaultValues(){return u},get _names(){return d},set _names(s){d=s},get _formState(){return e},get _options(){return i},set _options(s){i={...i,...s}}},subscribe:Ct,trigger:ge,register:Se,handleSubmit:et,watch:Dt,setValue:Q,getValues:Ye,reset:rt,resetField:Ot,clearErrors:St,unregister:we,setError:Qe,setFocus:Rt,getFieldState:Je};return{...st,formControl:st}}var ne=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const e=(Math.random()*16+t)%16|0;return(i=="x"?e:e&3|8).toString(16)})},Re=(t,i,e={})=>e.shouldFocus||R(e.shouldFocus)?e.focusName||`${t}.${R(e.focusIndex)?i:e.focusIndex}.`:"",Me=(t,i)=>[...t,...Y(i)],Ue=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Te(t,i,e){return[...t.slice(0,i),...Y(e),...t.slice(i)]}var Le=(t,i,e)=>Array.isArray(t)?(R(t[e])&&(t[e]=void 0),t.splice(e,0,t.splice(i,1)[0]),t):[],Ie=(t,i)=>[...Y(i),...Y(t)];function ar(t,i){let e=0;const r=[...t];for(const u of i)r.splice(u-e,1),e++;return xe(r).length?r:[]}var Ne=(t,i)=>R(i)?[]:ar(t,Y(i).sort((e,r)=>e-r)),Be=(t,i,e)=>{[t[i],t[e]]=[t[e],t[i]]},_t=(t,i,e)=>(t[i]=e,t);function dr(t){const i=pe(),{control:e=i,name:r,keyName:u="id",shouldUnregister:n,rules:o}=t,[d,p]=h.useState(e._getFieldArray(r)),x=h.useRef(e._getFieldArray(r).map(ne)),q=h.useRef(!1);e._names.array.add(r),h.useMemo(()=>o&&d.length>=0&&e.register(r,o),[e,r,d.length,o]),ke(()=>e._subjects.array.subscribe({next:({values:f,name:y})=>{if(y===r||!y){const V=g(f,r);Array.isArray(V)&&(p(V),x.current=V.map(ne))}}}).unsubscribe,[e,r]);const b=h.useCallback(f=>{q.current=!0,e._setFieldArray(r,f)},[e,r]),w=(f,y)=>{const V=Y(M(f)),S=Me(e._getFieldArray(r),V);e._names.focus=Re(r,S.length-1,y),x.current=Me(x.current,V.map(ne)),b(S),p(S),e._setFieldArray(r,S,Me,{argA:Ue(f)})},F=(f,y)=>{const V=Y(M(f)),S=Ie(e._getFieldArray(r),V);e._names.focus=Re(r,0,y),x.current=Ie(x.current,V.map(ne)),b(S),p(S),e._setFieldArray(r,S,Ie,{argA:Ue(f)})},P=f=>{const y=Ne(e._getFieldArray(r),f);x.current=Ne(x.current,f),b(y),p(y),!Array.isArray(g(e._fields,r))&&O(e._fields,r,void 0),e._setFieldArray(r,y,Ne,{argA:f})},U=(f,y,V)=>{const S=Y(M(y)),$=Te(e._getFieldArray(r),f,S);e._names.focus=Re(r,f,V),x.current=Te(x.current,f,S.map(ne)),b($),p($),e._setFieldArray(r,$,Te,{argA:f,argB:Ue(y)})},N=(f,y)=>{const V=e._getFieldArray(r);Be(V,f,y),Be(x.current,f,y),b(V),p(V),e._setFieldArray(r,V,Be,{argA:f,argB:y},!1)},T=(f,y)=>{const V=e._getFieldArray(r);Le(V,f,y),Le(x.current,f,y),b(V),p(V),e._setFieldArray(r,V,Le,{argA:f,argB:y},!1)},A=(f,y)=>{const V=M(y),S=_t(e._getFieldArray(r),f,V);x.current=[...S].map(($,J)=>!$||J===f?ne():x.current[J]),b(S),p([...S]),e._setFieldArray(r,S,_t,{argA:f,argB:V},!0,!1)},W=f=>{const y=Y(M(f));x.current=y.map(ne),b([...y]),p([...y]),e._setFieldArray(r,[...y],V=>V,{},!0,!1)};return h.useEffect(()=>{if(e._state.action=!1,He(r,e._names)&&e._subjects.state.next({...e._formState}),q.current&&(!de(e._options.mode).isOnSubmit||e._formState.isSubmitted)&&!de(e._options.reValidateMode).isOnSubmit)if(e._options.resolver)e._runSchema([r]).then(f=>{e._updateIsValidating([r]);const y=g(f.errors,r),V=g(e._formState.errors,r);(V?!y&&V.type||y&&(V.type!==y.type||V.message!==y.message):y&&y.type)&&(y?O(e._formState.errors,r,y):L(e._formState.errors,r),e._subjects.state.next({errors:e._formState.errors}))});else{const f=g(e._fields,r);f&&f._f&&!(de(e._options.reValidateMode).isOnSubmit&&de(e._options.mode).isOnSubmit)&&je(f,e._names.disabled,e._formValues,e._options.criteriaMode===te.all,e._options.shouldUseNativeValidation,!0).then(y=>!j(y)&&e._subjects.state.next({errors:wt(e._formState.errors,y,r)}))}e._subjects.state.next({name:r,values:M(e._formValues)}),e._names.focus&&fe(e._fields,(f,y)=>{if(e._names.focus&&y.startsWith(e._names.focus)&&f.focus)return f.focus(),1}),e._names.focus="",e._setValid(),q.current=!1},[d,r,e]),h.useEffect(()=>(!g(e._formValues,r)&&e._setFieldArray(r),()=>{const f=(y,V)=>{const S=g(e._fields,y);S&&S._f&&(S._f.mount=V)};e._options.shouldUnregister||n?e.unregister(r):f(r,!1)}),[r,e,u,n]),{swap:h.useCallback(N,[b,r,e]),move:h.useCallback(T,[b,r,e]),prepend:h.useCallback(F,[b,r,e]),append:h.useCallback(w,[b,r,e]),remove:h.useCallback(P,[b,r,e]),insert:h.useCallback(U,[b,r,e]),update:h.useCallback(A,[b,r,e]),replace:h.useCallback(W,[b,r,e]),fields:h.useMemo(()=>d.map((f,y)=>({...f,[u]:x.current[y]||ne()})),[d,u])}}function fr(t={}){const i=h.useRef(void 0),e=h.useRef(void 0),[r,u]=h.useState({isDirty:!1,isValidating:!1,isLoading:z(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:z(t.defaultValues)?void 0:t.defaultValues});if(!i.current)if(t.formControl)i.current={...t.formControl,formState:r},t.defaultValues&&!z(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...d}=ir(t);i.current={...d,formState:r}}const n=i.current.control;return n._options=t,ke(()=>{const o=n._subscribe({formState:n._proxyFormState,callback:()=>u({...n._formState}),reRenderRoot:!0});return u(d=>({...d,isReady:!0})),n._formState.isReady=!0,o},[n]),h.useEffect(()=>n._disableForm(t.disabled),[n,t.disabled]),h.useEffect(()=>{t.mode&&(n._options.mode=t.mode),t.reValidateMode&&(n._options.reValidateMode=t.reValidateMode)},[n,t.mode,t.reValidateMode]),h.useEffect(()=>{t.errors&&(n._setErrors(t.errors),n._focusError())},[n,t.errors]),h.useEffect(()=>{t.shouldUnregister&&n._subjects.state.next({values:n._getWatch()})},[n,t.shouldUnregister]),h.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==r.isDirty&&n._subjects.state.next({isDirty:o})}},[n,r.isDirty]),h.useEffect(()=>{var o;t.values&&!se(t.values,e.current)?(n._reset(t.values,{keepFieldsRef:!0,...n._options.resetOptions}),!((o=n._options.resetOptions)===null||o===void 0)&&o.keepIsValid||n._setValid(),e.current=t.values,u(d=>({...d}))):n._resetDefaultValues()},[n,t.values]),h.useEffect(()=>{n._state.mount||(n._setValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),i.current.formState=h.useMemo(()=>vt(r,n),[n,r]),i.current}export{or as C,dr as a,cr as b,fr as u};
